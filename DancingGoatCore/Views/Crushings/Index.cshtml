@using DancingGoat.Models
@model ProductListViewModel

@{
    Layout = "~/Views/Shared/_StoreLayout.cshtml";
    ViewData["PageClass"] = "inverted";
    var urlPagingLoad = @Url.Kentico().PageUrl(ContentItemIdentifiers.CRUSHINGS);
}

<div class="product-page row">
    <div class="flex">
       @* <aside class="col-md-4 col-lg-3 product-filter">
            <form asp-controller="Dozers" asp-action="Filter">
                <partial name="DozerFilter" model="Model.Filter" />
            </form>
        </aside>*@

        <div id="product-list" class="col-md-12 col-lg-12 product-list komatsu-product-list">
            <div class="row">
                <div class="col-md-6 col-lg-6">
                    <h2>Crushings</h2>
                    <p>Efficiency and productivity in sizing and feeding can unlock production growth for your operation and we offer material handling systems and expertise to help you do that. Our crushing equipment lineup includes feeder breakers, reclaim feeders, mobile crushers and sizers.</p>
                </div>
                <div class="col-md-6 col-lg-6">
                    <img class="img-category" src="~/Content/Images/PC2000_IMG_0193 (1).jpeg" />
                </div>
            </div>
            <partial name="CrushingList" model="Model.Items" />
        </div>
    </div>
    <div class="paginations">
        @for (var i = 1; i <= Model.Paginations; i++)
        {
            var selectedStr = "";
            if (i == Model.PageSelected)
            {
                selectedStr = "selected";
            }
            <a href="@urlPagingLoad?page=@i" class="btn btn-paginations" @selectedStr>@i</a>
        }
    </div>
</div>

@section Scripts {
    <script src="~/Scripts/formAutoPost.js"></script>

    <script>
        $(".js-postback input:checkbox").formAutoPost({ targetContainerSelector: "#product-list" });
    </script>
}